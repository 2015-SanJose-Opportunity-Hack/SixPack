@(title: String, isLoggedIn: Boolean, resultCount: Int, page: Int, itemList: List[models.Item], totalPages: Int, query: String, departmentList: List[models.Department], categoryList: List[models.Category], departmentModel: models.Department)

@import views.html.admin._
@import helper._
@import views.html.bootstrap3._



@backend(title, isLoggedIn) {
	<h2><span class="glyphicon glyphicon-book"></span> @title <small> | View inventory | @resultCount items found</small>
	<a href="@routes.AdminController.searchItems()" class="btn btn-primary pull-right"><span class="glyphicon glyphicon-search"></span> Advanced Search</a>
	<a href="@routes.AdminController.addItem()" class="btn btn-success pull-right"><span class="glyphicon glyphicon-plus"></span> Add Item</a>
	
	@if( departmentModel!=null ){	
		<a href="@routes.AdminController.approveAll(departmentModel.getId())" class="btn btn-success pull-right"><span class="glyphicon glyphicon-thumbs-up"></span> Approve All Items</a>
	}
	
	</h2>
	
	<div class="col-md-12 table-responsive" style="display: none">
	
		<table class="table table-bordered table-striped table-hover text-center display"  id="search-table" width="100%">
			<thead>
				<tr>
					<th class="text-center">Tag ID</th>
					<th class="text-center">Name</th>
					<th class="text-center">Created At</th>
					<th class="text-center">Unit Cost</th>
					<th class="text-center">Quantity</th>
					
					<th class="text-center">Department</th>
					<th class="text-center">Category</th>
					<th class="text-center">Disposal</th>
					<th class="text-center">Approval</th>
					<th class="text-center">Details</th>
				</tr>
			</thead>
			<tbody>
				@for(item <- itemList){
					<tr>
						<td><strong>@item.getTagId()</strong></td>
						<td>@item.getName()</td>
						<td>@{	
								item.getCreatedAt().format("dd/MM/YYYY")
								
							}</td>
						<td class="text-center">$@item.getUnitCost()</td>
						<td>@item.getQuantity()</td>
						
						<td>@item.getDepartment().getName()</td>
						<td>@item.getCategory().getCategoryName()</td>
						<td>@if( item.getDisposalDate()== null && item.getDisposeQuantity == 0) { 
								<span class="label label-success">Active</span> 
							} else{ 
								@if( item.getDisposeQuantity() == item.getQuantity() ){
									<span class="label label-default">Disposed</span>
								}else{
									<span class="label label-warning">Partially Disposed</span>
								}
								 
							}
						</td>
						<td>@if( item.isApproved() ){ <span class="label label-success">Approved</span>} else{ <span class="label label-warning">Pending</span> }</td>
						<td><a href="@routes.AdminController.editItem(item.getTagId())" class="btn btn-default">View</a></td>
					</tr>
				}			
			</tbody>
		</table>
	</div>
	
	</hr>
	
	
	
   <script type="text/javascript">
     	jQuery(document).ready(function(){
     		jQuery(".table-responsive").fadeIn(1000);
     		jQuery('#search-table').dataTable({
     			"scrollY":        800,
     	        "scrollCollapse": true,
     			"jQueryUI":       true,
     			"autoWidth": false
     		}				
     		);
     		
     	});
     </script>
}

