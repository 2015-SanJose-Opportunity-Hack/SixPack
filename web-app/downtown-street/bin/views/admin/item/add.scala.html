@(title: String, isLoggedIn: Boolean, addItemForm: Form[views.formdata.admin.ItemForm], categoryList: List[models.Category], departmentList: List[models.Department])

@import views.html.admin._
@import helper._
@import views.html.bootstrap3._


@backend(title, isLoggedIn) {
	<link rel="stylesheet" href="@routes.Assets.at("stylesheets/file-validator/file-validator.css")">
	<h2><span class="glyphicon glyphicon-th-large"></span> @title <small> | Add items to the inventory</small></h2>
	<hr>
	<div class="col-md-6">
		@form(routes.AdminController.submitItem(), 'class -> "form-horizontal", 'enctype -> "multipart/form-data"){
	    
	    @number(addItemForm("tagId"),
        	label = "Tag ID",
        	placeholder = "Item Tag ID (required)")
        	
        @text(addItemForm("name"),
        	label = "Item Name",
        	placeholder = "Item Name (required)")
        	
       	@text(addItemForm("description"),
        	label = "Description",
        	placeholder = "Description if any (optional)")
       	
      	@text(addItemForm("serialNumber"),
        	label = "Serial Number",
        	placeholder = "Serial Number if any (optional)")
        	
       	@price(addItemForm("unitCost"),
        	label = "Unit Cost",
        	placeholder = "Item Unit Cost (required)")
       	
       	@number(addItemForm("quantity"),
        	label = "Quantity",
        	placeholder = "Item Quantity (default is 1)")
        	
       	@text(addItemForm("location"),
        	label = "Location",
        	placeholder = "Item Location (optional)")
        	
       		
      	  <div class="form-group @if(addItemForm("categoryId").hasErrors) {has-error}">
		    <label class="col-sm-3 control-label" for="@addItemForm("categoryId").id">Category</label>
		    <div class="col-sm-9">
		      <select
		        class="form-control categories"
		        id="@addItemForm("categoryId").id"
		        name="@addItemForm("categoryId").name"
		        >
		        @for(category <- categoryList) {
		          <option id="@category.getCategoryName()" value="@category.getId()">@category.getCategoryName()</option>
		        }
		      </select>
		      
		      <span class="help-block">@{addItemForm("categoryId").error.map { error => error.message }}</span>
		    </div>
		  </div>
		  
		  <div class="form-group @if(addItemForm("isTaggable").hasErrors) {has-error}">
		    <label class="col-sm-3 control-label" for="@addItemForm("isTaggable").id">Is it taggable?</label>
		    <div class="col-sm-9">
		      <select
		        class="form-control"
		        id="@addItemForm("isTaggable").id"
		        name="@addItemForm("isTaggable").name"
		        >
		        	<option value="1">Yes</option>
		        	<option value="0">No</option>
		      </select>
		      
		      <span class="help-block">@{addItemForm("isTaggable").error.map { error => error.message }}</span>
		    </div>
		  </div>
		  
		  <div class="form-group @if(addItemForm("purchaseDate").hasErrors) {has-error}">
		    <label class="col-sm-3 control-label">Purchase Date</label>
		    <div class="col-sm-9">
		    	<input 
		    		type="date" 
		    		value=""
		    		class="form-control"
		    		name="@addItemForm("purchaseDate").name"
		    		placeholder="optional"
		    	/>
		    </div>
		  </div>
		  
		  
		  <div class="form-group @if(addItemForm("departmentId").hasErrors) {has-error}">
		    <label class="col-sm-3 control-label" for="@addItemForm("departmentId").id">Department</label>
		    <div class="col-sm-9">
		      <select
		        class="form-control departments"
		        id="@addItemForm("departmentId").id"
		        name="@addItemForm("departmentId").name"
		        >
		        @for(department <- departmentList) {
		          <option id="@department.getName()" value="@department.getId()">@department.getName()</option>
		        }
		      </select>
		      
		      <span class="help-block">@{addItemForm("departmentId").error.map { error => error.message }}</span>
		    </div>
		  </div>
		  
		   @number(addItemForm("disposeQuantity"),
        	label = "Dispose Quantity",
        	placeholder = "Number of items disposed if any",
        	isMinZero = true
        	)
		  
		  <div class="form-group @if(addItemForm("disposalDate").hasErrors) {has-error}">
		    <label class="col-sm-3 control-label">Disposal Date</label>
		    <div class="col-sm-9">
		    	<input 
		    		type="date" 
		    		value=""
		    		class="form-control"
		    		name="@addItemForm("disposalDate").name"
		    		placeholder="Leave blank for current date and time"
		    	/>
		    </div>
		  </div>
		  
		  
		
       	@text(addItemForm("otherInformation"),
        	label = "Other Information",
        	placeholder = "Other information not mentioned in the form (optional)")
        	
       	<div class="form-group @if(addItemForm("isApproved").hasErrors) {has-error}">
		    <label class="col-sm-3 control-label" for="@addItemForm("isApproved").id">Approval Status</label>
		    <div class="col-sm-9">
		      <select
		        class="form-control"
		        id="@addItemForm("isApproved").id"
		        name="@addItemForm("isApproved").name"
		        >
		        	<option value="1">Approved</option>
		        	<option value="0">Pending</option>
		      </select>
		      
		      <span class="help-block">@{addItemForm("isApproved").error.map { error => error.message }}</span>
		    </div>
		  </div>
	    
	    <div class="form-group">
		    <label class="col-sm-3 control-label" for="picture">Picture</label>
		    <div class="col-sm-9">
		      <input type="file" id="picture" name="picture" data-max-size='4m' accept="image/*" />
		      <span class="help-block">Upload a picture. 4MB max size(optional)</span>
		    </div>
		  </div>
	    
	    	
       	<button type="submit" class="btn-default btn btn-primary pull-right">Add Item</button>
        				
	}
	</div>
	<script src="@routes.Assets.at("javascripts/file-validator.js")" type="text/javascript"></script>
	<script type="text/javascript">
	jQuery(document).ready(function() {
		  jQuery(".categories").select2();
		  jQuery(".departments").select2();
		  jQuery( "input[type=file]" ).fileValidator({
			  onValidation: function(files){      $(this).attr('class','');          },
			  onInvalid:    function(type, file){ 
				  					$(this).addClass('invalid '+type); 
			  						jQuery("form").on("submit",function(){
			  							alert("File size is too big. Please use an image lesser than MB");
			  							return false;
			  						})
	  						},
			  maxSize:      '4m',
			  type:         'image' //optional
			});
			
		});
	</script>
	
	


}