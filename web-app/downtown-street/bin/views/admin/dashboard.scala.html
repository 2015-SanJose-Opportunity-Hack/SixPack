@(title: String, isLoggedIn: Boolean, name: String, departmentList: List[models.Department], totalItems: Integer, activeCount: Integer, departmentCount: Integer, categoryCount: Integer)

@backend(title, isLoggedIn) {

    <h2>Welcome @name! 
		    
	  </h2>
    
    
    <hr>
    <div class="col-md-12 text-center">
	    <div class="col-md-3">
	    	<h3>Item Count</h3>
	    	<h1>@totalItems</h1>
	    </div>
	    <div class="col-md-3">
	    	<h3>Total Active Items</h3>
	    	<h1>@activeCount</h1>
	    </div>
	    <div class="col-md-3">
	    	<h3>Departments</h3>
	    	<h1>@departmentCount</h1>
	    </div>
	    <div class="col-md-3">
	    	<h3>Categories</h3>
	    	<h1>@categoryCount</h1>
	    </div>
    </div>
    
   	<div class="col-md-12 department-summary">
		<div class="col-md-6 charts text-center">
				<div id="inventory-distribution" style="height: 400px"></div>
		</div>
		
		<div class="col-md-6 charts text-center">
				<div id="active-inventory-distribution" style="height: 400px"></div>
		</div>
	</div>
	
	
	   <!--  All Departments  -->
    <div class="col-md-12 department-summary">
    	@for( department <- departmentList ){
    		<div class="col-md-3 department">
			    <div class="panel panel-default">
					  <div class="panel-body">
					    <span class="glyphicon glyphicon-th-large main-glyphicon"></span><h2 class="pull-right">@department.getItemCount() items</h2>
					  </div>
					  <div class="panel-footer"><strong>@department.getName()</strong></div>
					  <div class="text-center container-fluid">
					  	<a href="/adm/item/1?dept=@department.getId()" class="btn btn-primary"><span class="glyphicon glyphicon-folder-close"></span> View Items </a>
					  </div>
						
				</div>
				
		    </div>
    	}
	
    </div>
    
    
	
	<script type="text/javascript">
	
	jQuery(document).ready(function(){
		totalDistributionShare();
		totalActiveDistributionShare();
	});
	
	function totalDistributionShare() {
	    jQuery('#inventory-distribution').highcharts({
	        chart: {
	            type: 'pie',
	            options3d: {
	                enabled: true,
	                alpha: 45,
	                beta: 0
	            }
	        },
	        title: {
	            text: 'Department share of Total items'
	        },
	        tooltip: {
	            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
	        },
	        plotOptions: {
	            pie: {
	                allowPointSelect: true,
	                cursor: 'pointer',
	                depth: 35,
	                dataLabels: {
	                    enabled: true,
	                    format: '{point.name}'
	                }
	            }
	        },
	        series: [{
	            type: 'pie',
	            name: 'Department share',
	            data: [
	                   @for( department <- departmentList ){
	                	   [ '@department.getName()', @department.getItemCount() ],
	                   }
	                   
	            ]
	        }]
	    });
	}
	
	function totalActiveDistributionShare() {
	    jQuery('#active-inventory-distribution').highcharts({
	        chart: {
	            type: 'pie',
	            options3d: {
	                enabled: true,
	                alpha: 45,
	                beta: 0
	            }
	        },
	        title: {
	            text: 'Department share of Active items'
	        },
	        tooltip: {
	            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
	        },
	        plotOptions: {
	            pie: {
	                allowPointSelect: true,
	                cursor: 'pointer',
	                depth: 35,
	                dataLabels: {
	                    enabled: true,
	                    format: '{point.name}'
	                }
	            }
	        },
	        series: [{
	            type: 'pie',
	            name: 'Department share',
	            data: [
	                   @for( department <- departmentList ){
	                	   [ '@department.getName()', @department.getActiveItems() ],
	                   }
	                   
	            ]
	        }]
	    });
	}
	
	</script>
	
	    
	
}
